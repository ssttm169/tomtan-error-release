import{_ as n,o as s,c as a,d as t}from"./app-87a1aa54.js";const e={},p=t(`<h3 id="问题表现" tabindex="-1"><a class="header-anchor" href="#问题表现" aria-hidden="true">#</a> 问题表现</h3><p>Vuepress项目在构建的时候, 会提示 <code>import xxxx from &#39;xxx&#39;</code> 报以下这个错误.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>SyntaxError: Cannot use <span class="token function">import</span> statement outside a module
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这可能是构建的时候 输出的是代码是commonjs标准的, 但可能某些原因造成 某个文件或依赖 没有转成 commonjs标准。</p><p>在网上搜寻了大量的相关信息, 以下一些解决方案</p><h3 id="解决方案一" tabindex="-1"><a class="header-anchor" href="#解决方案一" aria-hidden="true">#</a> 解决方案一</h3><p>有人说在package.json加上 type = module&quot; 可以解决</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;module&quot;</span>,
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你们试试看? 但是我们这个项目不管用。 这让我想到使用 babel, 试了几个方法, 装了几个babel的依赖都不会。</p><h3 id="解决方案二" tabindex="-1"><a class="header-anchor" href="#解决方案二" aria-hidden="true">#</a> 解决方案二</h3><p>babel的方案失败了, 只能另辟蹊径了。再详细分析一下 是 vue-scriptx 这个组件报错的。 提示 <code>import { App, h } from &#39;vue&#39;</code> 这个报错了。<br> 上了github看了源代码, 发现文件不大, 后来直接复制源代码, 在相对路径，直接引入 解决了。</p><p>像这样的</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineClientConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vuepress/client&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Ads <span class="token keyword">from</span> <span class="token string">&quot;vue-google-adsense&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ScriptX <span class="token keyword">from</span> <span class="token string">&quot;./vue-scriptx&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineClientConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">enhance</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> app<span class="token punctuation">,</span> router <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ScriptX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Ads<span class="token punctuation">.</span>Adsense<span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Ads<span class="token punctuation">.</span>InArticleAdsense<span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Ads<span class="token punctuation">.</span>InFeedAdsense<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rootComponents</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>希望对你有帮助。</p>`,14),o=[p];function c(i,u){return s(),a("div",null,o)}const d=n(e,[["render",c],["__file","cannot-use-import-statement-outside-a-module.html.vue"]]);export{d as default};
